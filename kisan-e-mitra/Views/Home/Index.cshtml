@*@model KisanEMitra.Models.LanguageManager*@
@model KisanEMitra.Models.LanguageModel
@{
    ViewBag.Title = Resources.Resource.label_title;
}

<!--  <div class="tab-bar">
      <a href="@Url.Action("Index", "Home")" class="tab-item @(ViewContext.RouteData.Values["action"].ToString() == "Index" ? "active" : "")">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-door" viewBox="0 0 16 16">
              <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z" />
          </svg>
      </a>
      <a href="@Url.Action("About", "Home")" class="tab-item @(ViewContext.RouteData.Values["action"].ToString() == "About" ? "active" : "")">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-wechat" viewBox="0 0 16 16">
              <path d="M11.176 14.429c-2.665 0-4.826-1.8-4.826-4.018 0-2.22 2.159-4.02 4.824-4.02S16 8.191 16 10.411c0 1.21-.65 2.301-1.666 3.036a.324.324 0 0 0-.12.366l.218.81a.616.616 0 0 1 .029.117.166.166 0 0 1-.162.162.177.177 0 0 1-.092-.03l-1.057-.61a.519.519 0 0 0-.256-.074.509.509 0 0 0-.142.021 5.668 5.668 0 0 1-1.576.22ZM9.064 9.542a.647.647 0 1 0 .557-1 .645.645 0 0 0-.646.647.615.615 0 0 0 .09.353Zm3.232.001a.646.646 0 1 0 .546-1 .645.645 0 0 0-.644.644.627.627 0 0 0 .098.356Z" />
              <path d="M0 6.826c0 1.455.781 2.765 2.001 3.656a.385.385 0 0 1 .143.439l-.161.6-.1.373a.499.499 0 0 0-.032.14.192.192 0 0 0 .193.193c.039 0 .077-.01.111-.029l1.268-.733a.622.622 0 0 1 .308-.088c.058 0 .116.009.171.025a6.83 6.83 0 0 0 1.625.26 4.45 4.45 0 0 1-.177-1.251c0-2.936 2.785-5.02 5.824-5.02.05 0 .1 0 .15.002C10.587 3.429 8.392 2 5.796 2 2.596 2 0 4.16 0 6.826Zm4.632-1.555a.77.77 0 1 1-1.54 0 .77.77 0 0 1 1.54 0Zm3.875 0a.77.77 0 1 1-1.54 0 .77.77 0 0 1 1.54 0Z" />
          </svg>
      </a>
      <a href="@Url.Action("Contact", "Home")" class="tab-item @(ViewContext.RouteData.Values["action"].ToString() == "Contact" ? "active" : "")">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
              <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" />
          </svg>
      </a>
  </div>-->
<div class="top-bar">
    <div class="left-column">
        <!-- Left dropdown content -->
        @Html.DropDownListFor(m => m.SelectedLanguage, (IEnumerable<SelectListItem>)Model.Languages, new { @class = "form-control", id = "ddlLanguage" })
    </div>
    <div class="center-column" style="color: #219653; font-size: 3vh; font-weight: 700; font-family: Mulish-bold,sans-serif; ">
        <!-- Application name -->
        @Resources.Resource.label_title
    </div>
    <div class="right-column">
        <!-- Right logo icons -->
        <img src="~/Content/images/emblem.png" alt="Logo 1" class="logo" width="60" height="60">
        <img src="~/Content/images/MOA_logo.png" alt="Logo 2" class="logo" width="60" height="60">
        <img src="~/Content/images/phone.png" alt="Logo 3" class="logo" width="60" height="60">
    </div>
</div>

<div class="center-section" style="position: fixed; width: 100%; bottom: 7vh; top: 75px;">
    <!-- Button in the center -->
    <button id="recordingButton">
        <img id="recordingImage" src="/Content/images/startIcon.svg" alt="Image" width="200" height="212" />
    </button>
</div>

<div class="bottom-section">
    <div class="bottom-container">
        <div class="chatbox">
            <!-- Chatbox content -->
            <input id="userQuestionTextBox" type="text" class="text-box" placeholder="@Resources.Resource.message_ask_ur_question">
            <button class="send-button modal-link" onclick="openModalPopUp()">
                @Resources.Resource.label_send
            </button>
        </div>
        <div class="tab-bar">
            <div class="tab">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#fff" class="bi bi-house-door" viewBox="0 0 16 16">
                    <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z" />
                </svg>
            </div>
            <div class="tab">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#fff" class="bi bi-wechat" viewBox="0 0 16 16">
                    <path d="M11.176 14.429c-2.665 0-4.826-1.8-4.826-4.018 0-2.22 2.159-4.02 4.824-4.02S16 8.191 16 10.411c0 1.21-.65 2.301-1.666 3.036a.324.324 0 0 0-.12.366l.218.81a.616.616 0 0 1 .029.117.166.166 0 0 1-.162.162.177.177 0 0 1-.092-.03l-1.057-.61a.519.519 0 0 0-.256-.074.509.509 0 0 0-.142.021 5.668 5.668 0 0 1-1.576.22ZM9.064 9.542a.647.647 0 1 0 .557-1 .645.645 0 0 0-.646.647.615.615 0 0 0 .09.353Zm3.232.001a.646.646 0 1 0 .546-1 .645.645 0 0 0-.644.644.627.627 0 0 0 .098.356Z" />
                    <path d="M0 6.826c0 1.455.781 2.765 2.001 3.656a.385.385 0 0 1 .143.439l-.161.6-.1.373a.499.499 0 0 0-.032.14.192.192 0 0 0 .193.193c.039 0 .077-.01.111-.029l1.268-.733a.622.622 0 0 1 .308-.088c.058 0 .116.009.171.025a6.83 6.83 0 0 0 1.625.26 4.45 4.45 0 0 1-.177-1.251c0-2.936 2.785-5.02 5.824-5.02.05 0 .1 0 .15.002C10.587 3.429 8.392 2 5.796 2 2.596 2 0 4.16 0 6.826Zm4.632-1.555a.77.77 0 1 1-1.54 0 .77.77 0 0 1 1.54 0Zm3.875 0a.77.77 0 1 1-1.54 0 .77.77 0 0 1 1.54 0Z" />
                </svg>
            </div>
            <div class="tab">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#fff" class="bi bi-three-dots" viewBox="0 0 16 16">
                    <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" />
                </svg>
            </div>
        </div>
    </div>
</div>

<!-- The below code is for the modal dialog -->
<div class="modal fade" id="exampleModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">@Resources.Resource.label_popUpTitle</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="modalBody">
                <div class="form-group">
                    <form id="myForm">
                        <input class="form-control" id="inputText">
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">@Resources.Resource.label_close</button>
                <button id="submitButton" type="button" class="btn btn-primary">@Resources.Resource.label_submit</button>
            </div>
        </div>
    </div>
</div>

<div class="toast-container position-fixed top-0 start-50 translate-middle-x p-3">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <strong class="me-auto">Message</strong>
            <small></small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            <p id="toastBody">@Resources.Resource.error_empty_msg</p>
        </div>
    </div>
</div>



<script type="text/javascript">

    var isRecording = false;

    $(document).ready(function () {

        $("#ddlLanguage").on('change', function () {

            var selValue = $('#ddlLanguage').val();

            $.ajax({
                type: "POST",
                url: "/Home/ChangeLanguage",
                dataType: "json",
                data: { lang: selValue },
                success: function (data) {

                    location.reload();
                },
                failure: function (data) {
                    alert('oops something went wrong');
                }
            });
        });

        $("#recordingButton").click(function () {
            isRecording = !isRecording;
            $("#recordingImage").attr("src", isRecording ? "/Content/images/startIcon.svg" : "/Content/images/stop.gif");
                @*$.ajax({
                    url: '@Url.Action("CheckRecordingStatus", "Home")',
                    type: 'POST',
                    success: function (result) {
                        // Update the image src based on the new boolean value
                        $("#recordingImage").attr("src", result.isRecording ? "~/Content/images/startIcon.svg" : "~/Content/images/stop.gif");
                    }
                });*@
        });

        $(function () {
            $('body').on('click', '#submitButton', function (e) {
                e.preventDefault();
                var textValue = $('#inputText').val();

                console.log('textValue: ', textValue);
                // Do something with textValue here
                $("#exampleModal").modal('hide');
            });
        });


    });

    var openModalPopUp = function () {

        const userQuestionTextBoxValue = $("#userQuestionTextBox").val();

        if (userQuestionTextBoxValue) {
            $("#exampleModal").modal("show");
        } else {
            const toastLiveExample = document.getElementById('liveToast');

            const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample);
            toastBootstrap.show();
        }
    }
</script>

