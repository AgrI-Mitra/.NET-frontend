@{
    ViewBag.Title = Resources.Resource.label_title;
    //var welcomeNoteGreetingBase64 = ViewBag.AudioBase64Strings[0];
    //var languageChangeGreetingBase64 = ViewBag.AudioBase64Strings[1];
    var resendOtpTranslation = Resources.Resource.message_resend_otp;
    List<KisanEMitra.Models.LanguageInfo> availableLanguages = ViewBag?.LanguageModel?.AvailableLanguages;
    KisanEMitra.Models.LanguageInfo selectedLanguage = ViewBag?.LanguageModel?.SelectedLanguage;
    List<kishan_bot.Models.PopularQuestion> popularQuestions = ViewBag.PopularQuestions;
    var welcomeGreetingMessageBase64StringName = "welcome-greeting-message-base64-" + selectedLanguage.LanguageCultureCode + "-audio";
}

@*@Html.Hidden("welcome-greeting-message-base64", (object)welcomeNoteGreetingBase64.ToString())
    @Html.Hidden("language-change-greeting-message-base64", (object)languageChangeGreetingBase64.ToString())*@
@Html.Hidden("resend-otp-translation", (object)resendOtpTranslation.ToString())

<div class="msg-scrollbar" id="message-list">
    <div class="my-msg-content system-msg-bg chatbot-message-wrapper">
        <img src="../Content/images/MOA_logo.png" class="chatbot-message-wrapper-column-one">
        <div class="chatbot-message-wrapper-column-two">
            <span class="messageWelcomeGreeting">@(new HtmlString(Resources.Resource.message_welcome_greeting.ToString()))</span>

            <div>
                @foreach (var availableLanguage in availableLanguages)
                {
                    if (availableLanguage.LanguageCultureCode == selectedLanguage.LanguageCultureCode)
                    {
                        <button type="button" class="btn btn-success language-buttons languagesLabels" data-language-culture-code="@availableLanguage.LanguageCultureCode" data-language-english-label="@availableLanguage.LanguageEnglishLabel" data-language-culture-label="@availableLanguage.LanguageCultureLabel" data-current-language-culture-code="@selectedLanguage.LanguageCultureCode">@availableLanguage.LanguageCultureLabel</button>
                    }
                    else
                    {
                        <button type="button" class="btn btn-secondary language-buttons languagesLabels" data-language-culture-code="@availableLanguage.LanguageCultureCode" data-language-english-label="@availableLanguage.LanguageEnglishLabel" data-language-culture-label="@availableLanguage.LanguageCultureLabel" data-current-language-culture-code="@selectedLanguage.LanguageCultureCode">@availableLanguage.LanguageCultureLabel</button>
                    }
                }
            </div>
        </div>
        <div class="d-flex align-self-start chatbot-message-wrapper-column-three me-md-2">
            <img id="playMessageImg-@{@welcomeGreetingMessageBase64StringName}" data-audio-id="@{@welcomeGreetingMessageBase64StringName}" data-action-name="setAutoPlayAudioMessage" src="../Content/images/start-audio.svg" alt="avatar 1" class="chatbot-message-action-buttons setAutoPlayAudioMessage">
        </div>
    </div>
</div>
<div class="input-container align-items-center justify-content-center p-3 p-md-4">
    <div class="scroll-container d-flex flex-row" id="popularQuestionsWrapper">
        <div class="query-messages-box">
            @foreach (var popularQuestion in popularQuestions)
            {
                <div id="popularQuestion" class="query-msg popularQuestions" data-popular-question="@popularQuestion.PopularQuestionValue">
                    <p>
                        @popularQuestion.PopularQuestionValue
                    </p>
                </div>
            }
        </div>
    </div>
    <div class="d-flex flex-row w-100 align-items-center">
        @*<button id="restartSessionButton" class="send-button me-2 me-sm-3">
            <img class="refresh-btn-style" src="~/Content/images/restart-session.svg" />
        </button>*@
        <div class="meg-input position-relative me-2 me-sm-3 flex-grow-1">
            <input id="userQuestionTextBox" type="text" class="message-input messageAskUrQuestion" placeholder="@Resources.Resource.message_ask_ur_question">
            <button id="sendTextButton" type="submit" class="sendtext" disabled></button>
        </div>
        <button id="voiceRecordButtonId" class="send-button img-fluid bg-transparent position-relative">
            <div id="voiceRecordMicCircle" class="load"></div>
            <img id="recordingImage" src="~/Content/images/start-recording.svg" class="mic-style position-absolute voice-start-recording-border-color" />
        </button>
    </div>
</div>
